<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Provides Access to Datawrapper's API • DatawRappr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Provides Access to Datawrapper's API">
<meta property="og:description" content="Connecting R to Datawrapper, allowing the creation and edits of charts via Datawrappers API.
    It makes heavy use of the httr'-library and tries to manage the API-token for the user in the .Renviron-file.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">DatawRappr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/munichrocker/DatawRappr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="pkgdown-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#pkgdown-" class="anchor"></a>pkgdown <img src="reference/figures/logo.png" align="right">
</h1></div>
</div>
<div id="datawrappr" class="section level1">
<h1 class="hasAnchor">
<a href="#datawrappr" class="anchor"></a>DatawRappr</h1>
<p>The goal of DatawRappr is to provide a wrapper for Datawrapper’s API to connect data from R directly with Datawrapper’s charts capabilities. It uses the new <a href="https://developer.datawrapper.de/v3.0/docs">API version 3.0</a>.</p>
<div id="key-features" class="section level2">
<h2 class="hasAnchor">
<a href="#key-features" class="anchor"></a>Key features:</h2>
<ul>
<li>Manages and automatically retrieves the API-key locally via <code><a href="reference/datawrapper_auth.html">datawrapper_auth()</a></code>
</li>
<li>Creates, deletes or publishes charts on Datawrapper</li>
<li>Sends Dataframes from R directly to Datawrapper - without having to copy them in - with <code><a href="reference/dw_data_to_chart.html">dw_data_to_chart()</a></code>
</li>
</ul>
<p>All functions (except <code><a href="reference/datawrapper_auth.html">datawrapper_auth()</a></code>) are preceded by <code>dw_</code>:</p>
<ul>
<li>allows test calls to the API via <code><a href="reference/dw_test_key.html">dw_test_key()</a></code>
</li>
<li>lists all created charts: <code><a href="reference/dw_list_charts.html">dw_list_charts()</a></code>.</li>
<li>lists all folders: <code><a href="reference/dw_list_folders.html">dw_list_folders()</a></code>.</li>
<li>creates a new Datawrapper chart via <code><a href="reference/dw_create_chart.html">dw_create_chart()</a></code>
</li>
<li>adds data from a R-dataframe to an existing Datawrapper chart via <code><a href="reference/dw_data_to_chart.html">dw_data_to_chart()</a></code>
</li>
<li>retrieves (<code><a href="reference/dw_retrieve_chart_metadata.html">dw_retrieve_chart_metadata()</a></code>) or edits metadata, description and visualization of an existing chart via <code><a href="reference/dw_edit_chart.html">dw_edit_chart()</a></code>
</li>
<li>publishes and republishes a Datawrapper chart via <code><a href="reference/dw_publish_chart.html">dw_publish_chart()</a></code>
</li>
<li>deletes an Datawrapper chart via <code><a href="reference/dw_delete_chart.html">dw_delete_chart()</a></code>
</li>
<li>exports a chart as png, pdf or svg (latter two only in paid accounts) with <code><a href="reference/dw_export_chart.html">dw_export_chart()</a></code>
</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Right now this package is experimental and only available on Github:</p>
<pre class="{r}"><code><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html"># install.packages("devtools") # if not already installed on your system
devtools::install_github("munichrocker/DatawRappr")</a></code></pre>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<pre class="{r}"><code><a href="https://rdrr.io/r/base/library.html">library(DatawRappr)</a></code></pre>
<div id="setting-up-the-api-key" class="section level3">
<h3 class="hasAnchor">
<a href="#setting-up-the-api-key" class="anchor"></a>Setting up the API-key</h3>
<p>To use the API you have to create an API key on Datawrapper.</p>
<p>Click on <strong>Dashboard</strong> - <strong>Settings</strong> and move down to the section that says <strong>API Access Tokens</strong>.</p>
<p>Click on <strong>Create new personal access token</strong>, enter a name and save the token:</p>
<p><img src="reference/figures/gif_api_key.gif"></p>
<p>Copy the API key in the clipboard and use</p>
<pre class="{r}"><code><a href="reference/datawrapper_auth.html">datawrapper_auth(api_key = "12345678")</a></code></pre>
<p>to save the key to our system. If a key already exists, you may add the argument <code>overwrite = TRUE</code> to <code><a href="reference/datawrapper_auth.html">datawrapper_auth()</a></code>.</p>
<p>To make sure, your key is working as expected, you can run</p>
<pre class="{r}"><code><a href="reference/dw_test_key.html">dw_test_key()</a></code></pre>
<p>with no arguments. It will then use the saved key from the environment. If the key is correct, you will receive a response from the API with personal details about your account - a <code>dw_user</code>-object that has no further use than to check your key.</p>
<p>Note: If you want to see your currently saved API key, you may use the helper function <code><a href="reference/dw_get_api_key.html">dw_get_api_key()</a></code>.</p>
<p>Congratulations, you’re good to go!</p>
</div>
<div id="making-api-calls" class="section level3">
<h3 class="hasAnchor">
<a href="#making-api-calls" class="anchor"></a>Making API-calls</h3>
<div id="create-a-chart" class="section level4">
<h4 class="hasAnchor">
<a href="#create-a-chart" class="anchor"></a>Create a chart</h4>
<p>To <strong>create an empty chart</strong>, you can use</p>
<pre class="{r}"><code><a href="reference/dw_create_chart.html">dw_create_chart()</a></code></pre>
<p>which will use the API key stored locally on your system.</p>
<p>By default, Datawrapper will create an empty linechart, without a title. The function returns a <strong>dw_chart</strong>-object with the metadata-elements from the API. This object can be used to populate the <code>chart_id</code>-argument in all other functions - which means you don’t have to deal with it. Just store the response from <code><a href="reference/dw_create_chart.html">dw_create_chart()</a></code> in your R-environment.</p>
</div>
<div id="add-data-to-the-chart" class="section level4">
<h4 class="hasAnchor">
<a href="#add-data-to-the-chart" class="anchor"></a>Add data to the chart</h4>
<p>To populate that chart with data, you can run</p>
<pre class="{r}"><code><a href="reference/dw_data_to_chart.html">dw_data_to_chart(x = DATAFRAME, chart_id = CHART_ID_OR_dw_chart-object)</a></code></pre>
<p>which uploads an R data.frame to an Datawrapper chart.</p>
<p>The data.frame should already be in the right format, only including the expected columns for the chart. The API will asume, that the first row contains headers. If that’s not true, you have to edit the metadata afterwards:</p>
</div>
<div id="edit-charts-metadata" class="section level4">
<h4 class="hasAnchor">
<a href="#edit-charts-metadata" class="anchor"></a>Edit chart’s metadata</h4>
<pre class="{r}"><code><a href="reference/dw_edit_chart.html">dw_edit_chart(chart_id = CHART_ID_OR_dw_chart-object, title = "I'm a title", 
data = list(`horizontal-header` = "false"))</a></code></pre>
<p>Datawrapper offers a lot of variability in editing it’s charts’ metadata. You can find a whole <a href="https://developer.datawrapper.de/docs/chart-properties-1">Documentation here</a>.</p>
<p>To speed things up, the <code><a href="reference/dw_edit_chart.html">dw_edit_chart()</a></code>-function has some built-in arguments for common transformations:</p>
<ul>
<li><code>title</code></li>
<li>
<code>intro</code> which is the text below the title</li>
<li>
<code>annotate</code> which is the text below the plot</li>
<li>
<code>byline</code> which is the name of the author</li>
<li>
<code>source_name</code> which states the source</li>
<li>
<code>source_url</code> which links to the source - but only if a <code>source_name</code> is provided</li>
</ul>
<p>If you want to edit specific arguments in your plot, you can use the arguments <code>data</code>, <code>visualize</code>, <code>describe</code> and <code>publish</code> to include lists to the API call which change all possible settings in a chart, as shown in the example above.</p>
<p>When you’re finished editing your chart, you might want to publish it:</p>
<pre class="{r}"><code><a href="reference/dw_publish_chart.html">dw_publish_chart(chart_id = CHART_ID_OR_dw_chart-object)</a></code></pre>
<p>This function returns a URL to the chart and the embed code, if you set the argument <em>return_urls</em> to <code>TRUE</code>.</p>
</div>
<div id="delete-chart" class="section level4">
<h4 class="hasAnchor">
<a href="#delete-chart" class="anchor"></a>Delete chart</h4>
<p>Or you might want to delete a chart:</p>
<pre class="{r}"><code><a href="reference/dw_delete_chart.html">dw_delete_chart(chart_id = CHART_ID_OR_dw_chart-object)</a></code></pre>
</div>
<div id="export-chart" class="section level4">
<h4 class="hasAnchor">
<a href="#export-chart" class="anchor"></a>Export chart</h4>
<p>You can export charts as png - or even in pdf or svg, if you’re using a paid plan.</p>
<pre class="{r}"><code>exported_chart &lt;- dw_export_chart(chart_id = CHART_ID_OR_dw_chart-object, type = c("png", "pdf", "svg"))</code></pre>
</div>
</div>
</div>
<div id="under-the-hood" class="section level2">
<h2 class="hasAnchor">
<a href="#under-the-hood" class="anchor"></a>Under the hood</h2>
<p>This package makes heavy use of the <a href="https://github.com/r-lib/httr"><code>httr</code></a>-package, which on itself is a wrapper of the <a href="https://cran.r-project.org/web/packages/curl/index.html">curl</a>-package.</p>
</div>
<div id="further-links" class="section level2">
<h2 class="hasAnchor">
<a href="#further-links" class="anchor"></a>Further Links</h2>
<p>There is a <a href="https://developer.datawrapper.de/reference">API-documentation</a> and a <a href="https://developer.datawrapper.de/docs/getting-started">Getting Started guide with examples</a> from Datawrapper.</p>
<p>A full Package-documentation <a href="https://munichrocker.github.io/DatawRappr/">can be found here</a>.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/munichrocker/DatawRappr">https://​github.com/​munichrocker/​DatawRappr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/munichrocker/DatawRappr/issues">https://​github.com/​munichrocker/​DatawRappr/​issues</a>
</li>
<li>Datawrapper Developers Page at <br><a href="https://developer.datawrapper.de/docs">https://​developer.datawrapper.de/​docs</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.benedict-witzenberger.de">Benedict Witzenberger</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>Bob Rudis <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.benedict-witzenberger.de">Benedict Witzenberger</a>, Bob Rudis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
